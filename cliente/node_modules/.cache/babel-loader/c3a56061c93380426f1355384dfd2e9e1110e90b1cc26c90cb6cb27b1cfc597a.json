{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\PROYECTOS\\\\Desarrollo_Web\\\\Gestion_De_Inventario\\\\cliente\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport InicioSesion from \"./Componentes/loguin\";\nimport Inventario from \"./Componentes/inventario\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [producto, setProducto] = useState(\"\");\n  const [gramaje, setGramaje] = useState(\"\");\n  const [presentacion, setPresentacion] = useState(\"\");\n  const [cantidad, setCantidad] = useState(0);\n  const [productosLista, setProductos] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [editCantidad, setEditCantidad] = useState(0);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [usuario, setUsuario] = useState(\"\");\n  const [contrasena, setContrasena] = useState(\"\");\n  const nofificacion = withReactContent(Swal);\n  const agregar = () => {\n    axios.post(\"http://localhost:3001/crear\", {\n      producto: producto,\n      gramaje: gramaje,\n      presentacion: presentacion,\n      cantidad: cantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      nofificacion.fire({\n        title: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Registro exitoso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 15\n        }, this),\n        html: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: [\"El producto \", producto, \" ha sido registrado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 14\n        }, this),\n        icon: 'success'\n      });\n      alert(\"Producto registrado o actualizado\");\n    }).catch(error => {\n      console.error(\"Hubo un error al registrar el producto: \", error);\n      alert(\"Hubo un error al registrar el producto\");\n    });\n  };\n  const listar = () => {\n    axios.get(\"http://localhost:3001/productos\").then(response => {\n      const sortedProductos = response.data.sort((a, b) => b.cantidad - a.cantidad);\n      setProductos(sortedProductos);\n    });\n  };\n  const actualizarCantidad = id => {\n    axios.put(\"http://localhost:3001/actualizar\", {\n      id: id,\n      cantidad: editCantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      setEditId(null);\n      alert(\"Cantidad actualizada\");\n    }).catch(error => {\n      console.error(\"Hubo un error al actualizar la cantidad: \", error);\n      alert(\"Hubo un error al actualizar la cantidad\");\n    });\n  };\n  const eliminarProducto = id => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este producto?\")) {\n      axios.delete(`http://localhost:3001/eliminar/${id}`).then(() => {\n        listar();\n        alert(\"Producto eliminado con éxito\");\n      }).catch(error => {\n        console.error(\"Hubo un error al eliminar el producto: \", error);\n        alert(\"Hubo un error al eliminar el producto\");\n      });\n    }\n  };\n  const limpiarCampos = () => {\n    setProducto(\"\");\n    setGramaje(\"\");\n    setPresentacion(\"\");\n    setCantidad(\"\");\n  };\n  const login = () => {\n    axios.post(\"http://localhost:3002/login\", {\n      usuario: usuario,\n      contrasena: contrasena\n    }).then(response => {\n      if (response.data.success) {\n        setIsAuthenticated(true);\n      } else {\n        alert(response.data.message);\n      }\n    }).catch(error => {\n      console.error(\"Hubo un error al intentar ingresar: \", error);\n      alert(\"Hubo un error al intentar ingresar\");\n    });\n  };\n  const logout = () => {\n    setIsAuthenticated(false);\n    setUsuario(\"\");\n    setContrasena(\"\");\n  };\n  useEffect(() => {\n    if (isAuthenticated) {\n      listar();\n    }\n  }, [isAuthenticated]);\n  const getColorForCantidad = cantidad => {\n    return cantidad <= 3 ? \"text-orange-400\tfont-semibold\" : \"text-slate-200\";\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(InicioSesion, {\n      usuario: usuario,\n      setUsuario: setUsuario,\n      contrasena: contrasena,\n      setContrasena: setContrasena,\n      login: login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App text-center\",\n    children: /*#__PURE__*/_jsxDEV(Inventario, {\n      logout: logout,\n      setProducto: setProducto,\n      setGramaje: setGramaje,\n      setPresentacion: setPresentacion,\n      setCantidad: setCantidad,\n      agregar: agregar,\n      productosLista: productosLista,\n      getColorForCantidad: getColorForCantidad,\n      editId: editId,\n      editCantidad: editCantidad,\n      setEditCantidad: setEditCantidad,\n      actualizarCantidad: actualizarCantidad,\n      setEditId: setEditId,\n      eliminarProducto: eliminarProducto\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"faPT2dioAd2G9Xx9sUl+YxMBTgM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Swal","withReactContent","InicioSesion","Inventario","jsxDEV","_jsxDEV","App","_s","producto","setProducto","gramaje","setGramaje","presentacion","setPresentacion","cantidad","setCantidad","productosLista","setProductos","editId","setEditId","editCantidad","setEditCantidad","isAuthenticated","setIsAuthenticated","usuario","setUsuario","contrasena","setContrasena","nofificacion","agregar","post","then","limpiarCampos","listar","fire","title","children","fileName","_jsxFileName","lineNumber","columnNumber","html","icon","alert","catch","error","console","get","response","sortedProductos","data","sort","a","b","actualizarCantidad","id","put","eliminarProducto","window","confirm","delete","login","success","message","logout","getColorForCantidad","className","_c","$RefreshReg$"],"sources":["D:/Documents/PROYECTOS/Desarrollo_Web/Gestion_De_Inventario/cliente/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nimport InicioSesion from \"./Componentes/loguin\";\nimport Inventario from \"./Componentes/inventario\";\n\nfunction App() {\n  const [producto, setProducto] = useState(\"\");\n  const [gramaje, setGramaje] = useState(\"\");\n  const [presentacion, setPresentacion] = useState(\"\");\n  const [cantidad, setCantidad] = useState(0);\n  const [productosLista, setProductos] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [editCantidad, setEditCantidad] = useState(0);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [usuario, setUsuario] = useState(\"\");\n  const [contrasena, setContrasena] = useState(\"\");\n  const nofificacion = withReactContent(Swal);\n\n  const agregar = () => {\n    axios.post(\"http://localhost:3001/crear\", {\n      producto: producto,\n      gramaje: gramaje,\n      presentacion: presentacion,\n      cantidad: cantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      nofificacion.fire({\n        title:<strong>Registro exitoso</strong>,\n        html:<i>El producto {producto} ha sido registrado</i>,\n        icon: 'success'\n      });\n      alert(\"Producto registrado o actualizado\");\n    }).catch((error) => {\n      console.error(\"Hubo un error al registrar el producto: \", error);\n      alert(\"Hubo un error al registrar el producto\");\n    });\n  }\n\n  const listar = () => {\n    axios.get(\"http://localhost:3001/productos\").then((response) => {\n      const sortedProductos = response.data.sort((a, b) => b.cantidad - a.cantidad);\n      setProductos(sortedProductos);\n    });\n  }\n\n  const actualizarCantidad = (id) => {\n    axios.put(\"http://localhost:3001/actualizar\", {\n      id: id,\n      cantidad: editCantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      setEditId(null);\n      alert(\"Cantidad actualizada\");\n    }).catch((error) => {\n      console.error(\"Hubo un error al actualizar la cantidad: \", error);\n      alert(\"Hubo un error al actualizar la cantidad\");\n    });\n  }\n\n  const eliminarProducto = (id) => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este producto?\")) {\n      axios.delete(`http://localhost:3001/eliminar/${id}`)\n        .then(() => {\n          listar();\n          alert(\"Producto eliminado con éxito\");\n        })\n        .catch((error) => {\n          console.error(\"Hubo un error al eliminar el producto: \", error);\n          alert(\"Hubo un error al eliminar el producto\");\n        });\n    }\n  }\n\n  const limpiarCampos = () => {\n    setProducto(\"\");\n    setGramaje(\"\");\n    setPresentacion(\"\");\n    setCantidad(\"\");\n  }\n\n  const login = () => {\n    axios.post(\"http://localhost:3002/login\", {\n      usuario: usuario,\n      contrasena: contrasena\n    }).then((response) => {\n      if (response.data.success) {\n        setIsAuthenticated(true);\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      console.error(\"Hubo un error al intentar ingresar: \", error);\n      alert(\"Hubo un error al intentar ingresar\");\n    });\n  }\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    setUsuario(\"\");\n    setContrasena(\"\");\n  }\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      listar();\n    }\n  }, [isAuthenticated]);\n\n  const getColorForCantidad = (cantidad) => {\n    return cantidad <= 3 ? \"text-orange-400\tfont-semibold\" : \"text-slate-200\";\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <InicioSesion \n        usuario = {usuario}\n        setUsuario = {setUsuario}\n        contrasena = {contrasena}\n        setContrasena={setContrasena}\n        login = {login}\n      ></InicioSesion>\n    );\n  }\n\n  return (\n    <div className=\"App text-center\">\n      <Inventario\n        logout = {logout}\n        setProducto = {setProducto}\n        setGramaje = {setGramaje}\n        setPresentacion = {setPresentacion}\n        setCantidad = {setCantidad}\n        agregar = {agregar}\n        productosLista = {productosLista}\n        getColorForCantidad = {getColorForCantidad}\n        editId = {editId}\n        editCantidad = {editCantidad}\n        setEditCantidad = {setEditCantidad}\n        actualizarCantidad = {actualizarCantidad}\n        setEditId = {setEditId}\n        eliminarProducto = {eliminarProducto}\n      ></Inventario>  \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,gBAAgB,MAAM,2BAA2B;AACxD,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,UAAU,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACmB,cAAc,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACnD,MAAM,CAACqB,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM+B,YAAY,GAAG3B,gBAAgB,CAACD,IAAI,CAAC;EAE3C,MAAM6B,OAAO,GAAGA,CAAA,KAAM;IACpB9B,KAAK,CAAC+B,IAAI,CAAC,6BAA6B,EAAE;MACxCtB,QAAQ,EAAEA,QAAQ;MAClBE,OAAO,EAAEA,OAAO;MAChBE,YAAY,EAAEA,YAAY;MAC1BE,QAAQ,EAAEA;IACZ,CAAC,CAAC,CAACiB,IAAI,CAAC,MAAM;MACZC,aAAa,CAAC,CAAC;MACfC,MAAM,CAAC,CAAC;MACRL,YAAY,CAACM,IAAI,CAAC;QAChBC,KAAK,eAAC9B,OAAA;UAAA+B,QAAA,EAAQ;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;QACvCC,IAAI,eAACpC,OAAA;UAAA+B,QAAA,GAAG,cAAY,EAAC5B,QAAQ,EAAC,qBAAmB;QAAA;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;QACrDE,IAAI,EAAE;MACR,CAAC,CAAC;MACFC,KAAK,CAAC,mCAAmC,CAAC;IAC5C,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAClBC,OAAO,CAACD,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAChEF,KAAK,CAAC,wCAAwC,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMV,MAAM,GAAGA,CAAA,KAAM;IACnBlC,KAAK,CAACgD,GAAG,CAAC,iCAAiC,CAAC,CAAChB,IAAI,CAAEiB,QAAQ,IAAK;MAC9D,MAAMC,eAAe,GAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACvC,QAAQ,GAAGsC,CAAC,CAACtC,QAAQ,CAAC;MAC7EG,YAAY,CAACgC,eAAe,CAAC;IAC/B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,kBAAkB,GAAIC,EAAE,IAAK;IACjCxD,KAAK,CAACyD,GAAG,CAAC,kCAAkC,EAAE;MAC5CD,EAAE,EAAEA,EAAE;MACNzC,QAAQ,EAAEM;IACZ,CAAC,CAAC,CAACW,IAAI,CAAC,MAAM;MACZC,aAAa,CAAC,CAAC;MACfC,MAAM,CAAC,CAAC;MACRd,SAAS,CAAC,IAAI,CAAC;MACfwB,KAAK,CAAC,sBAAsB,CAAC;IAC/B,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAClBC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACjEF,KAAK,CAAC,yCAAyC,CAAC;IAClD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMc,gBAAgB,GAAIF,EAAE,IAAK;IAC/B,IAAIG,MAAM,CAACC,OAAO,CAAC,qDAAqD,CAAC,EAAE;MACzE5D,KAAK,CAAC6D,MAAM,CAAC,kCAAkCL,EAAE,EAAE,CAAC,CACjDxB,IAAI,CAAC,MAAM;QACVE,MAAM,CAAC,CAAC;QACRU,KAAK,CAAC,8BAA8B,CAAC;MACvC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;QAC/DF,KAAK,CAAC,uCAAuC,CAAC;MAChD,CAAC,CAAC;IACN;EACF,CAAC;EAED,MAAMX,aAAa,GAAGA,CAAA,KAAM;IAC1BvB,WAAW,CAAC,EAAE,CAAC;IACfE,UAAU,CAAC,EAAE,CAAC;IACdE,eAAe,CAAC,EAAE,CAAC;IACnBE,WAAW,CAAC,EAAE,CAAC;EACjB,CAAC;EAED,MAAM8C,KAAK,GAAGA,CAAA,KAAM;IAClB9D,KAAK,CAAC+B,IAAI,CAAC,6BAA6B,EAAE;MACxCN,OAAO,EAAEA,OAAO;MAChBE,UAAU,EAAEA;IACd,CAAC,CAAC,CAACK,IAAI,CAAEiB,QAAQ,IAAK;MACpB,IAAIA,QAAQ,CAACE,IAAI,CAACY,OAAO,EAAE;QACzBvC,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,MAAM;QACLoB,KAAK,CAACK,QAAQ,CAACE,IAAI,CAACa,OAAO,CAAC;MAC9B;IACF,CAAC,CAAC,CAACnB,KAAK,CAAEC,KAAK,IAAK;MAClBC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5DF,KAAK,CAAC,oCAAoC,CAAC;IAC7C,CAAC,CAAC;EACJ,CAAC;EAED,MAAMqB,MAAM,GAAGA,CAAA,KAAM;IACnBzC,kBAAkB,CAAC,KAAK,CAAC;IACzBE,UAAU,CAAC,EAAE,CAAC;IACdE,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC;EAED7B,SAAS,CAAC,MAAM;IACd,IAAIwB,eAAe,EAAE;MACnBW,MAAM,CAAC,CAAC;IACV;EACF,CAAC,EAAE,CAACX,eAAe,CAAC,CAAC;EAErB,MAAM2C,mBAAmB,GAAInD,QAAQ,IAAK;IACxC,OAAOA,QAAQ,IAAI,CAAC,GAAG,+BAA+B,GAAG,gBAAgB;EAC3E,CAAC;EAED,IAAI,CAACQ,eAAe,EAAE;IACpB,oBACEjB,OAAA,CAACH,YAAY;MACXsB,OAAO,EAAIA,OAAQ;MACnBC,UAAU,EAAIA,UAAW;MACzBC,UAAU,EAAIA,UAAW;MACzBC,aAAa,EAAEA,aAAc;MAC7BkC,KAAK,EAAIA;IAAM;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAEpB;EAEA,oBACEnC,OAAA;IAAK6D,SAAS,EAAC,iBAAiB;IAAA9B,QAAA,eAC9B/B,OAAA,CAACF,UAAU;MACT6D,MAAM,EAAIA,MAAO;MACjBvD,WAAW,EAAIA,WAAY;MAC3BE,UAAU,EAAIA,UAAW;MACzBE,eAAe,EAAIA,eAAgB;MACnCE,WAAW,EAAIA,WAAY;MAC3Bc,OAAO,EAAIA,OAAQ;MACnBb,cAAc,EAAIA,cAAe;MACjCiD,mBAAmB,EAAIA,mBAAoB;MAC3C/C,MAAM,EAAIA,MAAO;MACjBE,YAAY,EAAIA,YAAa;MAC7BC,eAAe,EAAIA,eAAgB;MACnCiC,kBAAkB,EAAIA,kBAAmB;MACzCnC,SAAS,EAAIA,SAAU;MACvBsC,gBAAgB,EAAIA;IAAiB;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEV;AAACjC,EAAA,CA7IQD,GAAG;AAAA6D,EAAA,GAAH7D,GAAG;AA+IZ,eAAeA,GAAG;AAAC,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}