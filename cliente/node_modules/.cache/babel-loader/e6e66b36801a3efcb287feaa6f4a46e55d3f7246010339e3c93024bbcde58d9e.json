{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\PROYECTOS\\\\Desarrollo_Web\\\\Gestion_De_Inventario\\\\cliente\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport InicioSesion from \"./Componentes/loguin\";\nimport Inventario from \"./Componentes/inventario\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [producto, setProducto] = useState(\"\");\n  const [gramaje, setGramaje] = useState(\"\");\n  const [presentacion, setPresentacion] = useState(\"\");\n  const [cantidad, setCantidad] = useState(0);\n  const [productosLista, setProductos] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [editCantidad, setEditCantidad] = useState(0);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [usuario, setUsuario] = useState(\"\");\n  const [contrasena, setContrasena] = useState(\"\");\n  const agregar = () => {\n    axios.post(\"http://localhost:3001/crear\", {\n      producto: producto,\n      gramaje: gramaje,\n      presentacion: presentacion,\n      cantidad: cantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      Swal.fire({\n        title: '<strong>Registro exitoso</strong>',\n        html: '<i>El producto ' + producto + ' ha sido registrado</i>',\n        icon: 'success'\n      });\n    }).catch(error => {\n      console.error(\"Hubo un error al registrar el producto: \", error);\n      alert(\"Hubo un error al registrar el producto\");\n    });\n  };\n  const listar = () => {\n    axios.get(\"http://localhost:3001/productos\").then(response => {\n      const sortedProductos = response.data.sort((a, b) => b.cantidad - a.cantidad);\n      setProductos(sortedProductos);\n    });\n  };\n  const actualizarCantidad = id => {\n    axios.put(\"http://localhost:3001/actualizar\", {\n      id: id,\n      cantidad: editCantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      setEditId(null);\n      alert(\"Cantidad actualizada\");\n    }).catch(error => {\n      console.error(\"Hubo un error al actualizar la cantidad: \", error);\n      alert(\"Hubo un error al actualizar la cantidad\");\n    });\n  };\n  const eliminarProducto = id => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este producto?\")) {\n      axios.delete(`http://localhost:3001/eliminar/${id}`).then(() => {\n        listar();\n        alert(\"Producto eliminado con éxito\");\n      }).catch(error => {\n        console.error(\"Hubo un error al eliminar el producto: \", error);\n        alert(\"Hubo un error al eliminar el producto\");\n      });\n    }\n  };\n  const limpiarCampos = () => {\n    setProducto(\"\");\n    setGramaje(\"\");\n    setPresentacion(\"\");\n    setCantidad(\"\");\n  };\n  const login = () => {\n    axios.post(\"http://localhost:3002/login\", {\n      usuario: usuario,\n      contrasena: contrasena\n    }).then(response => {\n      if (response.data.success) {\n        setIsAuthenticated(true);\n      } else {\n        alert(response.data.message);\n      }\n    }).catch(error => {\n      console.error(\"Hubo un error al intentar ingresar: \", error);\n      alert(\"Hubo un error al intentar ingresar\");\n    });\n  };\n  const logout = () => {\n    setIsAuthenticated(false);\n    setUsuario(\"\");\n    setContrasena(\"\");\n  };\n  useEffect(() => {\n    if (isAuthenticated) {\n      listar();\n    }\n  }, [isAuthenticated]);\n  const getColorForCantidad = cantidad => {\n    return cantidad <= 3 ? \"text-orange-400\tfont-semibold\" : \"text-slate-200\";\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(InicioSesion, {\n      usuario: usuario,\n      setUsuario: setUsuario,\n      contrasena: contrasena,\n      setContrasena: setContrasena,\n      login: login\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App text-center\",\n    children: /*#__PURE__*/_jsxDEV(Inventario, {\n      logout: logout,\n      setProducto: setProducto,\n      setGramaje: setGramaje,\n      setPresentacion: setPresentacion,\n      setCantidad: setCantidad,\n      agregar: agregar,\n      productosLista: productosLista,\n      getColorForCantidad: getColorForCantidad,\n      editId: editId,\n      editCantidad: editCantidad,\n      setEditCantidad: setEditCantidad,\n      actualizarCantidad: actualizarCantidad,\n      setEditId: setEditId,\n      eliminarProducto: eliminarProducto\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"faPT2dioAd2G9Xx9sUl+YxMBTgM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Swal","InicioSesion","Inventario","jsxDEV","_jsxDEV","App","_s","producto","setProducto","gramaje","setGramaje","presentacion","setPresentacion","cantidad","setCantidad","productosLista","setProductos","editId","setEditId","editCantidad","setEditCantidad","isAuthenticated","setIsAuthenticated","usuario","setUsuario","contrasena","setContrasena","agregar","post","then","limpiarCampos","listar","fire","title","html","icon","catch","error","console","alert","get","response","sortedProductos","data","sort","a","b","actualizarCantidad","id","put","eliminarProducto","window","confirm","delete","login","success","message","logout","getColorForCantidad","fileName","_jsxFileName","lineNumber","columnNumber","className","children","_c","$RefreshReg$"],"sources":["D:/Documents/PROYECTOS/Desarrollo_Web/Gestion_De_Inventario/cliente/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2'\nimport InicioSesion from \"./Componentes/loguin\";\nimport Inventario from \"./Componentes/inventario\";\n\nfunction App() {\n  const [producto, setProducto] = useState(\"\");\n  const [gramaje, setGramaje] = useState(\"\");\n  const [presentacion, setPresentacion] = useState(\"\");\n  const [cantidad, setCantidad] = useState(0);\n  const [productosLista, setProductos] = useState([]);\n  const [editId, setEditId] = useState(null);\n  const [editCantidad, setEditCantidad] = useState(0);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [usuario, setUsuario] = useState(\"\");\n  const [contrasena, setContrasena] = useState(\"\");\n\n  const agregar = () => {\n    axios.post(\"http://localhost:3001/crear\", {\n      producto: producto,\n      gramaje: gramaje,\n      presentacion: presentacion,\n      cantidad: cantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      Swal.fire({\n        title:'<strong>Registro exitoso</strong>',\n        html:'<i>El producto ' + producto + ' ha sido registrado</i>',\n        icon: 'success'\n      });\n    }).catch((error) => {\n      console.error(\"Hubo un error al registrar el producto: \", error);\n      alert(\"Hubo un error al registrar el producto\");\n    });\n  }\n\n  const listar = () => {\n    axios.get(\"http://localhost:3001/productos\").then((response) => {\n      const sortedProductos = response.data.sort((a, b) => b.cantidad - a.cantidad);\n      setProductos(sortedProductos);\n    });\n  }\n\n  const actualizarCantidad = (id) => {\n    axios.put(\"http://localhost:3001/actualizar\", {\n      id: id,\n      cantidad: editCantidad\n    }).then(() => {\n      limpiarCampos();\n      listar();\n      setEditId(null);\n      alert(\"Cantidad actualizada\");\n    }).catch((error) => {\n      console.error(\"Hubo un error al actualizar la cantidad: \", error);\n      alert(\"Hubo un error al actualizar la cantidad\");\n    });\n  }\n\n  const eliminarProducto = (id) => {\n    if (window.confirm(\"¿Estás seguro de que deseas eliminar este producto?\")) {\n      axios.delete(`http://localhost:3001/eliminar/${id}`)\n        .then(() => {\n          listar();\n          alert(\"Producto eliminado con éxito\");\n        })\n        .catch((error) => {\n          console.error(\"Hubo un error al eliminar el producto: \", error);\n          alert(\"Hubo un error al eliminar el producto\");\n        });\n    }\n  }\n\n  const limpiarCampos = () => {\n    setProducto(\"\");\n    setGramaje(\"\");\n    setPresentacion(\"\");\n    setCantidad(\"\");\n  }\n\n  const login = () => {\n    axios.post(\"http://localhost:3002/login\", {\n      usuario: usuario,\n      contrasena: contrasena\n    }).then((response) => {\n      if (response.data.success) {\n        setIsAuthenticated(true);\n      } else {\n        alert(response.data.message);\n      }\n    }).catch((error) => {\n      console.error(\"Hubo un error al intentar ingresar: \", error);\n      alert(\"Hubo un error al intentar ingresar\");\n    });\n  }\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    setUsuario(\"\");\n    setContrasena(\"\");\n  }\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      listar();\n    }\n  }, [isAuthenticated]);\n\n  const getColorForCantidad = (cantidad) => {\n    return cantidad <= 3 ? \"text-orange-400\tfont-semibold\" : \"text-slate-200\";\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <InicioSesion \n        usuario = {usuario}\n        setUsuario = {setUsuario}\n        contrasena = {contrasena}\n        setContrasena={setContrasena}\n        login = {login}\n      ></InicioSesion>\n    );\n  }\n\n  return (\n    <div className=\"App text-center\">\n      <Inventario\n        logout = {logout}\n        setProducto = {setProducto}\n        setGramaje = {setGramaje}\n        setPresentacion = {setPresentacion}\n        setCantidad = {setCantidad}\n        agregar = {agregar}\n        productosLista = {productosLista}\n        getColorForCantidad = {getColorForCantidad}\n        editId = {editId}\n        editCantidad = {editCantidad}\n        setEditCantidad = {setEditCantidad}\n        actualizarCantidad = {actualizarCantidad}\n        setEditId = {setEditId}\n        eliminarProducto = {eliminarProducto}\n      ></Inventario>  \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}